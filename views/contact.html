<!-- partials/contact.html -->


<div class="row">
    <div class="col-lg-3">
        <div class="travel-box travel-box-false" ng-hide="false">
            <div class="btn btn-default" ng-click="refreshFlySearchData()"></div>
        </div>
    </div>
    <div ng-mouseleave="hideDetailsFunction()">
    <div class="col-lg-4 col-lg-push-5"> 
        <div class="travel-box travel-box-false" style="padding:20px; margin-top:{{showDetailsOffset}}px" ng-hide="!showDetailsBool">
            <div class="row">
                <div class="col-xs-6">
                    <h4>{{selectedTravel.minprice}} €</h4>
                    <p>{{selectedTravel.airline}}</p>
                    <p>Economique</p>
                </div>
                <div class="col-xs-6">
                    <a href="" class="btn btn-default btn-lg btn-block no-border">Acheter !!</a>
                    <div class="btn-group btn-group-justified">
                        <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-star-empty"></i></p>
                        <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-share"></i></p>
                    </div>
                </div>
            </div>
            <p class="bg-success">
                <div  ng-repeat="price in selectedTravel.prices | orderBy: 'price'">
                    <a href="{{price.url}}">{{price.agency}} ({{price.price}} €)</a>
                </div>    
            </p>
            <p class="bg-primary">Planification</p>
            <p class="bg-primary">Aller</p>
            <div ng-repeat="flight in selectedTravel.flights  | filter: { wayType: 1 } | orderBy: 'indice'" >
                <div class="row" >
                    <div class="col-xs-9">
                        <p>{{flight.airline}} - {{flight.flightNumber}}</p>
                    </div>
                    <div class="col-xs-3">
                        <p>2h30</p>
                    </div>

                </div>

                <div class="row">
                    <div class="col-xs-2 col-xs-offset-1">
                        <p>{{flight.takeOffDate | date:'HH:mm' }}</p>
                        <p>{{flight.landDate | date:'HH:mm'}}</p>
                    </div>
                    <div class="col-xs-9">
                        <p>{{flight.departure.code}} {{flight.departure.name}}</p>
                        <p>{{flight.arrival.code}} {{flight.arrival.name}}</p>
                    </div>
                </div>
                <p>Correspondance</p>
            </div>
            <p class="bg-primary">Retour</p>
            <div ng-repeat="flight in selectedTravel.flights  | filter: { wayType: 2 } | orderBy: 'indice'" >
                <div class="row" >
                    <div class="col-xs-9">
                        <p>{{flight.airline}} - {{flight.flightNumber}}</p>
                    </div>
                    <div class="col-xs-3">
                        <p>2h30</p>
                    </div>

                </div>

                <div class="row">
                    <div class="col-xs-2 col-xs-offset-1">
                        <p>{{flight.takeOffDate | date:'HH:mm' }}</p>
                        <p>{{flight.landDate | date:'HH:mm'}}</p>
                    </div>
                    <div class="col-xs-9">
                        <p>{{flight.departure.code}} {{flight.departure.name}}</p>
                        <p>{{flight.arrival.code}} {{flight.arrival.name}}</p>
                    </div>
                </div>
                <p>Correspondance</p>
            </div>  
        </div>
    </div>
    <div class="col-lg-5 col-lg-pull-4" >  
        <div class="row">
            <div class="col-xs-12 well" style="margin-bottom:30px;margin-top:-70px">
                <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>dates</th>
                          <th><span class="label label-success label-1">New York - NYC</span></th>
                          <th><span class="label label-success label-2">Londres - LON</span></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                            <th scope="row">20 Dec 27 Dec</th>
                          <td>55 €</td>
                          <td>38 €</td>
                        </tr>
                      </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="travel-div" ng-repeat="travel in travelData | orderBy: 'minprice'"  ng-mouseover="showDetailsFunction(travel,$event)" ng-mouseleave="hideBtnsFunction(travel)">
                <a ng-click="showDetailsFunction(travel)" >
                    <div id="{{travel.id}}" class="travel-box travel-box-{{increaseBox[travel.id]}}" style="padding-top:20px;" ng-mouseover="showDetailsFunction(travel)">  
                        <div id="airline" class="travel-airlines h5">{{travel.airline}}</div>
                        <div id="price" class="col-xs-3 travel-price col-xs-push-9">
                            <div class="row h3" style="text-align:center; margin-top:8px;">{{travel.minprice}} €</div>
                        </div>
                        <div id="aller" class="way-box col-xs-9 col-xs-pull-3">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center; ">
                                    <time class="icon">
                                      <em>{{travel.outwardTakeOffDate | date:'MMM'}}</em>
                                      <span>{{travel.outwardTakeOffDate | date:'dd'}}</span>
                                    </time>
                                </div>    
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.outwardTakeOffDate | date:'HH:mm'}}</span>
                                    <span class="label label-default label-departure" style="">{{travel.outwardDeparture.code}}</span>
                                </div>
                                <div class="col-xs-4" style="text-align:center;">
                                    <span class="h5" style="margin-top:0px;">{{travel.outwardType}}</span>
                                    <div class="fly-arrow arrow-{{travel.outwardTypeCss}}" style="margin-top:0px;"></div>
                                    <div class="leg-stops-green" style="margin-top:-4px;">{{travel.outwardDuration}}</div>
                                </div>
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.outwardLandDate | date:'HH:mm'}}<h6 style="display:inline;" ng-hide="{{travel.outwardDayDiff}} == 0">(+1)</h6></span>
                                    <span class="label label-success label-{{travel.subFlySearchParent}}">{{travel.outwardArrival.code}}</span>
                                </div>
                            </div>
                        </div>
                        <div id="retour" class="way-box col-xs-9">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center; ">
                                    <time class="icon">
                                      <em>{{travel.inwardTakeOffDate | date:'MMM'}}</em>
                                      <span>{{travel.inwardTakeOffDate | date:'dd'}}</span>
                                    </time>
                                </div>    
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.inwardTakeOffDate | date:'HH:mm'}}</span>
                                    <span class="label label-success label-{{travel.subFlySearchParent}}">{{travel.inwardDeparture.code}}</span>
                                </div>
                                <div class="col-xs-4" style="text-align:center;">
                                    <span class="h5" style="margin-top:0px;">{{travel.inwardType}}</span>
                                    <div class="fly-arrow arrow-{{travel.inwardTypeCss}}" style="margin-top:0px;"></div>

                                    <div class="leg-stops-green" style="margin-top:-4px;">{{travel.inwardDuration}}</div>


                                </div>
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.inwardLandDate | date:'HH:mm'}}<h6 style="display:inline;" ng-hide="{{travel.inwardDayDiff}} == 0">(+{{travel.inwardDayDiff}})</h6></span>
                                    <span class="label label-default" style="background-color:white; color:grey; border: 1px solid #ccc;">{{travel.inwardArrival.code}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                <div class="btn-appear" >
                    <div class="btn btn-default travel-hide-btn no-border" data-toggle="tooltip" title="Masquer ce vol" style="display: block;"><i class="glyphicon glyphicon-ban-circle btn-show-{{travel.showBtnsBool}}"></i></div>
                    <div class="travel-btns col-xs-3">
                        <a href="" class="btn btn-default btn-block">Acheter</a>
                        <div class="btn-group btn-group-justified ">
                            <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-star-empty btn-show-{{travel.showBtnsBool}}"></i></p>
                            <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-share btn-show-{{travel.showBtnsBool}}"></i></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>