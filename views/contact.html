<!-- partials/contact.html -->


<div class="row">
    <div class="col-lg-3">
        <div class="travel-box travel-box-false" ng-hide="true">
            <div class="btn btn-default" ng-click="refreshFlySearchData()"></div>
        </div>
    </div>
    <div ng-mouseleave="hideDetailsFunction()">
    <div class="col-lg-4 col-lg-push-5"> 
        <div class="travel-box travel-box-false" style="padding:20px; margin-top:{{showDetailsOffset}}px" ng-hide="!showDetailsBool">
            <div class="row">

                <div class="col-xs-12">
                    <a href="" class="btn btn-default btn-lg btn-block">Acheter à {{selectedTravel.minprice}} €</a>
                    <div class="btn-group btn-group-justified">
                        <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-star-empty"></i></p>
                        <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-share"></i></p>
                    </div>
                </div>
            </div>
            <p style="margin:2px;">Autres vendeurs :</p>
                <div  ng-repeat="price in selectedTravel.prices | orderBy: 'price'" style="display:inline-block;">
                    <a href="{{price.url}}" style="display:inline-block; margin-right:10px;">{{price.agency}} ({{price.price}} €) </a>
                </div>    
            

        <div class="row well h4" style="padding:5px; text-align:center; margin:5px; font-weight:bold;">Aller<span class="h5"> - {{selectedTravel.outwardDuration}}</span></div>
            <div  class="table-responsive" ng-repeat="flight in selectedTravel.flights  | filter: { wayType: 1 } | orderBy: 'indice'" >
            <table class="table table-no-margin">
              <thead ng-hide="flight.indice==1">
                <tr>
                  <th><i class="glyphicon glyphicon-time"></i></th>
                  <th class="th-no-bold" colspan = "3">Correspondance</th>
                  <th class="th-no-bold th-align-right">{{flight.correspondanceDuration}}</th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th><i class="glyphicon glyphicon-plane"></th>
                  <th class="th-no-bold"  colspan = "3">{{flight.airline}} - {{flight.flightNumber}}</th>
                  <th class="th-no-bold th-align-right">{{flight.duration}}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row" ></th>
                  <td colspan = "2"><h5 style="display: table-cell;font-weight:bold;">{{flight.takeOffDate | date:'HH:mm' }}</h5><h6 style="display: table-cell; padding-left:6px;">{{flight.takeOffDate | date:'dd MMM' }}</h6></td>
                  <td><span class="label label-default ng-binding" style="background-color:white; color:grey; border: 1px solid #ccc;">{{flight.departure.code}}</span>  {{flight.departure.name}}</td>
                  <td></td>
                </tr>
                <tr>
                  <th scope="row"></th>
                  <td colspan = "2"><h5 style="display: table-cell;font-weight:bold;">{{flight.landDate | date:'HH:mm'}}</h5><h6 style="display: table-cell; padding-left:6px;">{{flight.landDate | date:'dd MMM'}}</h6></td>
                  <td><span class="label label-default ng-binding" style="background-color:white; color:grey; border: 1px solid #ccc;">{{flight.arrival.code}}</span> {{flight.arrival.name}}</td>
                  <td></td>
                </tr>
              </tbody>
            </table>
                
            </div>
            <div class="row well h4" style="padding:5px; text-align:center; margin:5px; font-weight:bold;">Retour<span class="h5"> - {{selectedTravel.inwardDuration}}</span></div>
            <div class="table-responsive" ng-repeat="flight in selectedTravel.flights  | filter: { wayType: 2 } | orderBy: 'indice'" >
            <table class="table table-no-margin">
              <thead ng-hide="flight.indice==1">
                <tr>
                  <th><i class="glyphicon glyphicon-time"></i></th>
                  <th class="th-no-bold" colspan = "3">Correspondance</th>
                  <th class="th-no-bold th-align-right">{{flight.correspondanceDuration}}</th>
                </tr>
              </thead>
              <thead>
                <tr>
                  <th><i class="glyphicon glyphicon-plane"></th>
                  <th class="th-no-bold"  colspan = "3">{{flight.airline}} - {{flight.flightNumber}}</th>
                  <th class="th-no-bold th-align-right">{{flight.duration}}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row" ></th>
                  <td colspan = "2"><h5 style="display: table-cell;font-weight:bold;">{{flight.takeOffDate | date:'HH:mm' }}</h5><h6 style="display: table-cell; padding-left:6px;">{{flight.takeOffDate | date:'dd MMM' }}</h6></td>
                  <td><span class="label label-default ng-binding" style="background-color:white; color:grey; border: 1px solid #ccc;">{{flight.departure.code}}</span>  {{flight.departure.name}}</td>
                  <td></td>
                </tr>
                <tr>
                  <th scope="row"></th>
                  <td colspan = "2"><h5 style="display: table-cell;font-weight:bold;">{{flight.landDate | date:'HH:mm'}}</h5><h6 style="display: table-cell; padding-left:6px;">{{flight.landDate | date:'dd MMM'}}</h6></td>
                  <td><span class="label label-default ng-binding" style="background-color:white; color:grey; border: 1px solid #ccc;">{{flight.arrival.code}}</span> {{flight.arrival.name}}</td>
                  <td></td>
                </tr>
              </tbody>
            </table>
            </div>  
        </div>
    </div>
    <div class="col-lg-5 col-lg-pull-4" >  
        <div class="row">
            <div class="col-xs-12 well" style="margin-bottom:30px;margin-top:-70px">
                <div class="table-responsive">
                    <table class="table table-center table-no-margin">
                      <thead>
                        <tr>
                          <th>Trips</th>
                          <th><span class="label label-success label-1">New York - NYC</span></th>
                          <th><span class="label label-success label-2">Londres - LON</span></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th scope="row">20 Dec<br/>27 Dec</th>
                          <td><h3 style="margin:0px;">55 €</h3><h5 style="margin:0px;">2h20m</h5></td>
                          <td><h3 style="margin:0px;">38 €</h3><h5 style="margin:0px;">2h20m</h5></td>
                        </tr>
                        <tr>
                          <th scope="row">20 Dec<br/>27 Dec</th>
                          <td><h3 style="margin:0px;">55 €</h3><h5 style="margin:0px;">2h20m</h5></td>
                          <td><h3 style="margin:0px;">38 €</h3><h5 style="margin:0px;">2h20m</h5></td>
                        </tr>
                      </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="travel-div" ng-repeat="travel in travelData | orderBy: 'minprice'"  ng-mouseover="showDetailsFunction(travel,$event)" ng-mouseleave="hideBtnsFunction(travel)">
                <a ng-click="showDetailsFunction(travel)" >
                    <div id="{{travel.id}}" class="travel-box travel-box-{{increaseBox[travel.id]}}" style="padding-top:20px;" ng-mouseover="showDetailsFunction(travel)">  
                        <div id="airline" class="travel-airlines h5">{{travel.airline}}</div>
                        <div id="price" class="col-xs-3 travel-price col-xs-push-9">
                            <div class="row h3" style="text-align:center; margin-top:8px;">{{travel.minprice}} €</div>
                        </div>
                        <div id="aller" class="way-box col-xs-9 col-xs-pull-3">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center; ">
                                    <time class="icon">
                                      <em>{{travel.outwardTakeOffDate | date:'MMM'}}</em>
                                      <span>{{travel.outwardTakeOffDate | date:'dd'}}</span>
                                    </time>
                                </div>    
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.outwardTakeOffDate | date:'HH:mm'}}</span>
                                    <span class="label label-default label-departure" style="">{{travel.outwardDeparture.code}}</span>
                                </div>
                                <div class="col-xs-4" style="text-align:center;">
                                    <span class="h5" style="margin-top:0px;">{{travel.outwardType}}</span>
                                    <div class="fly-arrow arrow-{{travel.outwardTypeCss}}" style="margin-top:0px;"></div>
                                    <div class="leg-stops-green" style="margin-top:-4px;">{{travel.outwardDuration}}</div>
                                </div>
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.outwardLandDate | date:'HH:mm'}}<h6 style="display:inline;" ng-hide="{{travel.outwardDayDiff}} == 0">(+1)</h6></span>
                                    <span class="label label-success label-{{travel.subFlySearchParent}}">{{travel.outwardArrival.code}}</span>
                                </div>
                            </div>
                        </div>
                        <div id="retour" class="way-box col-xs-9">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center; ">
                                    <time class="icon">
                                      <em>{{travel.inwardTakeOffDate | date:'MMM'}}</em>
                                      <span>{{travel.inwardTakeOffDate | date:'dd'}}</span>
                                    </time>
                                </div>    
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.inwardTakeOffDate | date:'HH:mm'}}</span>
                                    <span class="label label-success label-{{travel.subFlySearchParent}}">{{travel.inwardDeparture.code}}</span>
                                </div>
                                <div class="col-xs-4" style="text-align:center;">
                                    <span class="h5" style="margin-top:0px;">{{travel.inwardType}}</span>
                                    <div class="fly-arrow arrow-{{travel.inwardTypeCss}}" style="margin-top:0px;"></div>

                                    <div class="leg-stops-green" style="margin-top:-4px;">{{travel.inwardDuration}}</div>


                                </div>
                                <div class="col-xs-3" style="text-align:center;">
                                    <span class="h4" style="font-weight:bold;">{{travel.inwardLandDate | date:'HH:mm'}}<h6 style="display:inline;" ng-hide="{{travel.inwardDayDiff}} == 0">(+{{travel.inwardDayDiff}})</h6></span>
                                    <span class="label label-default" style="background-color:white; color:grey; border: 1px solid #ccc;">{{travel.inwardArrival.code}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                <div class="btn-appear" >
                    <div class="btn btn-default travel-hide-btn no-border" data-toggle="tooltip" title="Masquer ce vol" style="display: block;"><i class="glyphicon glyphicon-ban-circle btn-show-{{travel.showBtnsBool}}"></i></div>
                    <div class="travel-btns col-xs-3">
                        <a href="" class="btn btn-default btn-block">Acheter</a>
                        <div class="btn-group btn-group-justified ">
                            <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-star-empty btn-show-{{travel.showBtnsBool}}"></i></p>
                            <p class="btn btn-default btn-lg no-border"><i class="glyphicon glyphicon-share btn-show-{{travel.showBtnsBool}}"></i></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>